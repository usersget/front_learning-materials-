<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>列表</title>
	<script type="text/javascript">
		window.onload=function(){
			// 获取年月日
			function getMsgDate(){
				// 获取日期
				var date=new date();
				// 获取年
				var year=date.getFullYear();
				// 获取月份
				var month=date.getMonth()+1;
				var day=date.getDay()+1;
				var msgdate=year+"/"+month+"/"+day;
				return msgdate;
			}
			var ul=document.getElementById("ul1");
			var msgBtn=document.getElementById("msgBtn");
			var msgTextArea=document.getElementById("msgTextArea");
			msgBtn.onclick=function(){
				var newli=document.getElementById("li");
				var delMsg="<a href='javascript:;' id='delLink'>删除</a>";
				newLi.innerHTML=msgTextArea.value+"------"+getMsgDate()+delMsg;
				var lis=document.getElementsByTagName("li");
				if(ul.children.length==0){//添加新的评论
					ul.appendChild(newLi);
				}
				else{
					ul.insertBefore(newLi,lis[0]);
				}
				var delLink=document.getElementById("delLink");
				delLink.onclick=function(){//删除评论
					ul.removeChild(this.parentNode);
				}
				for(i=0;i<lis.length;i++){//光标换色
					lis[i].onmouseover=function(){
						this.style.backgroundColor="yellow";
					}
					lis[i].onmouseout=function(){
						this.style.backgroundColor="";
					}
				}
			}
		}
	</script>
	
	</head>
	<body>
		<!-- cols 列 rows行 -->
		<textarea id="msgTextArea"cols="25"rows="5"></textarea>
		<input type="button"id="msgBtn"value="发表评论" />
		<ul id="ul1"></ul>
	
	
	</body>
</html>
